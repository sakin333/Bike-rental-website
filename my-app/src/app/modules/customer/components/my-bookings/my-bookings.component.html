<div class="main-container">
  <mat-spinner *ngIf="isLoading"></mat-spinner>
</div>

<h2 *ngIf="!isLoading && !isBookedBikesAvailable" class="no-bikes-text">You haven't booked any bikes</h2>

<table
  mat-table
  [dataSource]="bookedBikes"
  class="mat-elevation-z8"
  *ngIf="!isLoading && isBookedBikesAvailable"
>
  <ng-container matColumnDef="bikeBrand">
    <th mat-header-cell *matHeaderCellDef>Bike Brand</th>
    <td mat-cell *matCellDef="let bike">{{ bike.bike_brand }}</td>
  </ng-container>

  <ng-container matColumnDef="bikeName">
    <th mat-header-cell *matHeaderCellDef>Bike Name</th>
    <td mat-cell *matCellDef="let bike">{{ bike.bike_name }}</td>
  </ng-container>

  <ng-container matColumnDef="startTime">
    <th mat-header-cell *matHeaderCellDef>Start Time</th>
    <td mat-cell *matCellDef="let booking">{{ booking.startTime | date }}</td>
  </ng-container>
  <ng-container matColumnDef="endTime">
    <th mat-header-cell *matHeaderCellDef>End Time</th>
    <td mat-cell *matCellDef="let booking">{{ booking.endTime | date }}</td>
  </ng-container>
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let booking" [ngClass]="{'accepted': booking.status === 'accepted', 'pending': booking.status === 'pending'}">
      {{ booking.status }}
    </td>
  </ng-container>

  <tr
    mat-header-row
    *matHeaderRowDef="[
      'bikeBrand',
      'bikeName',
      'startTime',
      'endTime',
      'status'
    ]"
  ></tr>
  <tr
    mat-row
    *matRowDef="
      let row;
      columns: ['bikeBrand', 'bikeName', 'startTime', 'endTime', 'status']
    "
  ></tr>
</table>
